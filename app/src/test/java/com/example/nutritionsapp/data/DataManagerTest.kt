package com.example.nutritionsapp.data

import com.example.nutritionsapp.data.domain.Meal
import org.junit.jupiter.api.Assertions.*
import org.junit.jupiter.api.TestInstance


@TestInstance(TestInstance.Lifecycle.PER_CLASS)
internal class DataManagerTest {
    private var dataManager: DataManager = DataManager()
    private var calculateCalories: Int? = null
    private var highProteinMeals: List<Meal>? = null
    private var mealsContainsVitamin: List<Meal>? = null
    private var mealsContainsCarb: List<Meal>? = null
    private var mealsContainsFiber: List<Meal>? = null
    private var optimalCalories: Int? = dataManager.optimalCalories
    private var addedMeals: List<Meal>? = null


    @org.junit.Test
    fun should_Return_CalculatedCalories_When_RunFunction() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "510",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            )
        )

        // when
        calculateCalories = dataManager.calculateCaloriesForAddedMeals(addedMeals!!)

        // then
        assertEquals(
            2010,
            calculateCalories,
        )
    }

    @org.junit.Test
    fun should_Return_False_When_calculateCaloriesIsBiggerThanOptimalOnes() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "5",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "5",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 2,
                calories = "5",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "510",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            )
        )

        // when
        calculateCalories = dataManager.calculateCaloriesForAddedMeals(addedMeals!!)

        // then
        assertEquals(
            false,
            calculateCalories!! > optimalCalories!!
        )
    }

    @org.junit.Test
    fun should_Return_True_When_calculateCaloriesIsSmallerThanOptimalOnes() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            )
        )

        // when
        calculateCalories = dataManager.calculateCaloriesForAddedMeals(addedMeals!!)

        // then
        assertEquals(
            true,
            calculateCalories!! < optimalCalories!!
        )
    }


    @org.junit.Test
    fun should_Return_HighProteinMeals_When_Give_Them_Items_Size() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "20",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "30",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "40",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "50",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "60",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "70",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "80",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "90",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "100",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "110",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            )
        )

        // when
        highProteinMeals = dataManager.getHighProteinMeals(addedMeals as MutableList<Meal>, 10)

        // then
        println("(highProteinMeals as MutableList<Meal>).size = ${(highProteinMeals as MutableList<Meal>).size}")
        assertEquals(
            10,
            (highProteinMeals as MutableList<Meal>).size
        )
    }

    @org.junit.Test
    fun should_Return_MealsContainsVitamin_When_Give_Them_Items_Size() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "20",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "20 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "30",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "30 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "40",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "40 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "50",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "50 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "60",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "60 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "70",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "70 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "80",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "80 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "90",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "100",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "90 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "110",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "100 g",
            )
        )

        // when
        mealsContainsVitamin =
            dataManager.getTopMealsContainsVitamin(addedMeals as MutableList<Meal>, 10)

        // then
        assertEquals(
            10,
            (mealsContainsVitamin as MutableList<Meal>).size
        )
    }


    @org.junit.Test
    fun should_Return_MealsContainsCarb_When_Give_Them_Items_Size() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "20",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "20 g",
                vitaminD = "20 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "30",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "30 g",
                vitaminD = "30 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "40",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "40 g",
                vitaminD = "40 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "50",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "50 g",
                vitaminD = "50 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "60",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "60 g",
                vitaminD = "60 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "70",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "70 g",
                vitaminD = "70 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "80",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "80 g",
                vitaminD = "80 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "90",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "90 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "100",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "100 g",
                vitaminD = "90 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "110",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "110 g",
                vitaminD = "100 g",
            )
        )

        // when
        mealsContainsCarb =
            dataManager.getTopMealsContainsVitamin(addedMeals as MutableList<Meal>, 10)

        // then
        assertEquals(
            10,
            (mealsContainsCarb as MutableList<Meal>).size
        )
    }


    @org.junit.Test
    fun should_Return_MealsContainsFiber_When_Give_Them_Items_Size() {
        // given
        addedMeals = mutableListOf(
            Meal(
                id = 0,
                calories = "500",
                name = "Pizza",
                caffeine = "10",
                fat = "10",
                protein = "10",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "10 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "10 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 1,
                calories = "500",
                name = "Burger",
                caffeine = "10",
                fat = "10",
                protein = "20",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "20 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "20 g",
                vitaminD = "20 g",
            ),
            Meal(
                id = 2,
                calories = "500",
                name = "Chips",
                caffeine = "10",
                fat = "10",
                protein = "30",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "30 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "30 g",
                vitaminD = "30 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "40",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "40 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "40 g",
                vitaminD = "40 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "50",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "50 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "50 g",
                vitaminD = "50 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "60",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "60 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "60 g",
                vitaminD = "60 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "70",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "70 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "70 g",
                vitaminD = "70 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "80",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "80 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "80 g",
                vitaminD = "80 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "90",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "90 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "90 g",
                vitaminD = "10 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "100",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "100 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "100 g",
                vitaminD = "90 g",
            ),
            Meal(
                id = 3,
                calories = "400",
                name = "Potatoes",
                caffeine = "10",
                fat = "10",
                protein = "110",
                saturatedFat = "10",
                servingSize = "100",
                totalFat = "10",
                water = "10 g",
                calcium = "10 g",
                fiber = "110 g",
                sugar = "10 g",
                cholesterol = "10 g",
                carb = "110 g",
                vitaminD = "100 g",
            )
        )

        // when
        mealsContainsFiber =
            dataManager.getTopMealsContainsVitamin(addedMeals as MutableList<Meal>, 10)

        // then
        assertEquals(
            10,
            (mealsContainsFiber as MutableList<Meal>).size
        )
    }


}